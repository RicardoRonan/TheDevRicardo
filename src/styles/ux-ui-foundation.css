:root{
  /* Spacing, 4px base */
  --space-0: 0;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 24px;
  --space-6: 32px;
  --space-7: 40px;
  --space-8: 48px;
  --space-9: 64px;
  --space-10: 96px;

  /* Radii */
  --radius-1: 2px;
  --radius-2: 4px;
  --radius-3: 8px;
  --radius-4: 12px;
  --radius-5: 16px;
  --radius-pill: 9999px;

  /* Type scale, fluid */
  --fs-300: clamp(14px, 0.85rem + 0.10vw, 15px);
  --fs-400: clamp(16px, 1.00rem + 0.20vw, 18px);
  --fs-500: clamp(18px, 1.125rem + 0.25vw, 20px);
  --fs-600: clamp(20px, 1.25rem + 0.50vw, 24px);
  --fs-700: clamp(24px, 1.50rem + 0.80vw, 32px);
  --fs-800: clamp(30px, 1.875rem + 1.00vw, 40px);
  --fs-900: clamp(38px, 2.375rem + 1.50vw, 56px);

  /* Line height and tracking */
  --lh-tight: 1.25;
  --lh-snug: 1.35;
  --lh-normal: 1.55;
  --lh-loose: 1.7;
  --tracking-tight: -0.01em;
  --tracking-normal: 0;
  --tracking-wide: 0.02em;

  /* Layout */
  --container-max: 1200px;
  --measure: 65ch;

  /* Motion */
  --ease-standard: cubic-bezier(.2,.0,.2,1);
  --ease-emphasized: cubic-bezier(.2,.0,0,1);
  --duration-fast: 150ms;
  --duration-med: 250ms;
  --duration-slow: 400ms;

  /* Elevation */
  --shadow-color: 0 0% 0%;
  --shadow-0: none;
  --shadow-1: 0 1px 2px hsl(var(--shadow-color) / 0.08), 0 1px 1px hsl(var(--shadow-color) / 0.06);
  --shadow-2: 0 2px 6px hsl(var(--shadow-color) / 0.10), 0 1px 3px hsl(var(--shadow-color) / 0.08);
  --shadow-3: 0 6px 12px hsl(var(--shadow-color) / 0.12), 0 3px 6px hsl(var(--shadow-color) / 0.10);

  /* Focus */
  --focus-ring: 2px solid hsl(210 100% 56% / 1);
  --focus-offset: 2px;

  /* Brand colors - preserving existing retro theme */
  --brand-primary: #dc143c;
  --brand-secondary: #f5f5dc;
  --brand-background: #000000;
  --brand-text: #ffffff;
  --brand-shadow: rgba(0, 0, 0, 0.5);
}

/* Base type */
html { scroll-behavior: smooth; }
body{
  font-size: var(--fs-400);
  line-height: var(--lh-normal);
  letter-spacing: var(--tracking-normal);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
h1,.h1{ font-size: var(--fs-900); line-height: var(--lh-tight); letter-spacing: var(--tracking-tight); }
h2,.h2{ font-size: var(--fs-800); line-height: var(--lh-snug); letter-spacing: var(--tracking-tight); }
h3,.h3{ font-size: var(--fs-700); line-height: var(--lh-snug); }
h4,.h4{ font-size: var(--fs-600); line-height: var(--lh-snug); }
.lead{ font-size: var(--fs-500); line-height: var(--lh-normal); }
.prose{ max-width: var(--measure); }
.prose p{ margin-block: 0 1em; }
.prose p + p{ margin-top: 0.75em; }

/* Utilities */
.flow > * + *{ margin-top: var(--flow-space, var(--space-5)); }
.stack{ display:flex; flex-direction:column; gap: var(--stack-gap, var(--space-5)); }
.cluster{ display:flex; flex-wrap:wrap; gap: var(--cluster-gap, var(--space-3)); align-items:center; }
.container{ max-width: var(--container-max); margin-inline:auto; padding-inline: var(--space-5); }
.grid{ display:grid; grid-template-columns:repeat(12,1fr); gap: var(--grid-gap, var(--space-5)); }
.col-12{ grid-column: span 12; }
@media (min-width:768px){
  .col-md-6{ grid-column: span 6; }
  .col-md-4{ grid-column: span 4; }
  .col-md-3{ grid-column: span 3; }
}
.card{ border-radius: var(--radius-3); padding: var(--space-6); box-shadow: var(--shadow-1); background:white; transition: box-shadow var(--duration-med) var(--ease-standard), transform var(--duration-med) var(--ease-standard); }
.card:hover{ box-shadow: var(--shadow-2); transform: translateY(-2px); }
.btn{ display:inline-flex; align-items:center; justify-content:center; gap: var(--space-2); border-radius: var(--radius-3); padding:10px 16px; font-size: var(--fs-400); line-height:1.2; text-decoration:none; transition: background var(--duration-fast) var(--ease-standard), transform var(--duration-fast) var(--ease-standard); min-height: 44px; }
.btn:active{ transform: translateY(1px); }
.btn--sm{ padding:8px 12px; font-size: var(--fs-300); border-radius: var(--radius-2); min-height: 36px; }
.btn--lg{ padding:12px 20px; font-size: var(--fs-500); border-radius: var(--radius-4); min-height: 52px; }
.btn--pill{ border-radius: var(--radius-pill); }
.input, input[type="text"], input[type="email"], input[type="password"], select, textarea{
  width:100%; min-height:44px; padding:10px 12px; border-radius: var(--radius-2);
  border:1px solid hsl(0 0% 85%); box-shadow: var(--shadow-0);
  transition: border-color var(--duration-fast) var(--ease-standard), box-shadow var(--duration-fast) var(--ease-standard);
}
.input:focus, input:focus, select:focus, textarea:focus{ outline:none; border-color:hsl(210 100% 56%); box-shadow: 0 0 0 3px hsl(210 100% 56% / .15); }
:focus-visible{ outline: var(--focus-ring); outline-offset: var(--focus-offset); }
ul,ol{ padding-left:1.2em; }
li + li{ margin-top:0.35em; }
.table{ width:100%; border-collapse:collapse; }
.table th,.table td{ padding:12px; border-bottom:1px solid hsl(0 0% 90%); }
.table th{ text-align:left; }
.section{ padding-block: var(--section-space, var(--space-8)); }
@media (min-width:768px){ .section{ --section-space: var(--space-9); } }
@media (min-width:1200px){ .section{ --section-space: var(--space-10); } }
.radius-1{ border-radius: var(--radius-1); } .radius-2{ border-radius: var(--radius-2); }
.radius-3{ border-radius: var(--radius-3); } .radius-4{ border-radius: var(--radius-4); }
.radius-5{ border-radius: var(--radius-5); } .radius-pill{ border-radius: var(--radius-pill); }
.elev-0{ box-shadow: var(--shadow-0); } .elev-1{ box-shadow: var(--shadow-1); }
.elev-2{ box-shadow: var(--shadow-2); } .elev-3{ box-shadow: var(--shadow-3); }

/* Retro theme overrides for existing design */
.retro-card{ 
  border-radius: 0; 
  padding: var(--space-6); 
  box-shadow: var(--shadow-1); 
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid var(--brand-primary);
  backdrop-filter: blur(0.5rem);
  transition: box-shadow var(--duration-med) var(--ease-standard), transform var(--duration-med) var(--ease-standard); 
}
.retro-card:hover{ 
  box-shadow: var(--shadow-2); 
  transform: translateY(-2px); 
}

.retro-btn{ 
  display:inline-flex; 
  align-items:center; 
  justify-content:center; 
  gap: var(--space-2); 
  border-radius: 0; 
  padding:10px 16px; 
  font-size: var(--fs-400); 
  line-height:1.2; 
  text-decoration:none; 
  transition: all var(--duration-fast) var(--ease-standard); 
  min-height: 44px;
  background: var(--brand-primary);
  border: 2px solid var(--brand-primary);
  color: var(--brand-text);
  font-family: var(--font-family-pixel, monospace);
}
.retro-btn:hover{ 
  background: transparent;
  color: var(--brand-primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(220, 20, 60, 0.3);
}
.retro-btn:active{ transform: translateY(1px); }

.retro-input, .retro-textarea{
  width:100%; 
  min-height:44px; 
  padding:10px 12px; 
  border-radius: 0;
  border: 2px solid rgba(245, 245, 220, 0.3);
  background: rgba(0, 0, 0, 0.3);
  color: var(--brand-text);
  font-family: var(--font-family-pixel, monospace);
  transition: all var(--duration-fast) var(--ease-standard);
}
.retro-input:focus, .retro-textarea:focus{ 
  outline:none; 
  border-color: var(--brand-primary); 
  box-shadow: 0 0 0 3px rgba(220, 20, 60, 0.3); 
  background: rgba(0, 0, 0, 0.5);
}

/* Bootstrap 5 mappings */
:root{
  --bs-border-radius-sm: var(--radius-2);
  --bs-border-radius: var(--radius-3);
  --bs-border-radius-lg: var(--radius-4);
  --bs-body-font-size: var(--fs-400);
  --bs-body-line-height: var(--lh-normal);
  --bs-btn-border-radius: var(--radius-3);
  --bs-btn-border-radius-sm: var(--radius-2);
  --bs-btn-border-radius-lg: var(--radius-4);
  --bs-focus-ring-width: 3px;
  --bs-focus-ring-color: hsl(210 100% 56% / .35);
  --bs-gutter-x: var(--space-5);
  --bs-gutter-y: var(--space-5);
}

@media (prefers-reduced-motion: reduce){
  *{ animation-duration:0.01ms !important; animation-iteration-count:1 !important; transition-duration:0.01ms !important; scroll-behavior:auto !important; }
}
